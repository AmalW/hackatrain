machine:
  node:
    version: 0.10.25

dependencies:
  override:
    - npm install bower jshint -g
    - npm install
    - bower install

test:
  override:
    - jshint . -e .json

deployment:
  production:
    branch: master
    commands:
      - node task dist --config=production --build=$CIRCLE_BUILD_NUM
      - lftp -c "open -u $FTP_USER,$FTP_PASSWORD ftp.hackatrain.nl; set ssl:verify-certificate no; mirror -R dist/production/ /"
  development:
    branch: develop
    commands:
      - node task deploy --config=development --build=$CIRCLE_BUILD_NUM

general:
  artifacts:
    - dist
